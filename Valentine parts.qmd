---
title: "Valentine parts"
author: "Valentine Petzold"
format: html
---


# 1. Introduction
[Link to our github repository](https://github.com/clemence-code/Data_management_Project)

## 1.1 Description of the project - Research question

## 1.2 Description of the sources

OECD
World Bank 

+ links to the sources

## 1.3 Description of the data file

## 1.3.0 Set up
importation librairies

```{r}
library(vroom)
library(here)
library(ggplot2)
library(dplyr)
library(readxl)
```
```{r}
here::i_am('Data_management_Project.Rproj')
```




#### Unzipping the files
```{r}
#zip_files <- list.files(
#  here("raw_data"),
#  pattern = "\\.zip$",
#  full.names = TRUE
#)

#for (f in zip_files) {
#  unzip(f, exdir = here("data_file"))
#}
```

- description rapide des variables
- number rows, columns, NA
- années
- pays

### 1.3.1 Historical exposure to extreme temperatures

This data set displays the share of population exposed to hot temperature from 1979 to 2024. The temperature threshold is 35°C.

```{r}
Temperature_exposure<-read_excel("raw_data/OECD.ENV.EPI,DSD_ECH@EXT_TEMP_H,2.0,filtered,2025-11-19 13-23-57.xlsx", skip=8)
```
```{r}
Temperature_exposure |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```


### 1.3.2 Human Development index

This data set shows the HDI rank for all countries in 2023 compared to the 2022 rank. It displays the life expectancy at birth, the expected years of schooling and the Gross National Income per capita used to compute the HDI.

```{r}
HDI <- read_excel("raw_data/HDR25_Statistical_Annex_HDI_Table.xlsx.", skip=4)
```
```{r}
HDI |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

### 1.3.3 Income share of the top 10%


```{r}
Top_10 <- vroom(here("data_file/WID_Data_Metadata", "WID_Data_19112025-132927.csv"), delim=";",skip=1) #need to skip the first raw
```
```{r}
Top_10 |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

### 1.3.4 Environmental Policy Stringency

```{r}
Environmental_Policy_Stringency_Index<- read_excel("raw_data/OECD.ECO.MAD,DSD_EPS@DF_EPS,1.0,filtered,2025-11-19 13-27-34.xlsx", skip=6)
```
```{r}
Environmental_Policy_Stringency_Index |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

### 1.3.5 Share of electricity from renewable resources

```{r}
Renewable_Electricity_Share<- vroom(here("raw_data", "yearly_full_release_long_format.csv"))
```
```{r}
Renewable_Electricity_Share |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

### 1.3.6 Per capita energy use

```{r}
PC_Energy_Use<- vroom(here("data_file", "Metadata_Country_API_EG.USE.ELEC.KH.PC_DS2_en_csv_v2_129274.csv"))
```
```{r}
PC_Energy_Use |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

### 1.3.7 Research and development as a share of GDP

```{r}
RandD_share_of_GDP<- vroom(here("data_file", "API_GB.XPD.RSDV.GD.ZS_DS2_en_csv_v2_216043.csv"), skip=4)
```
```{r}
RandD_share_of_GDP |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```


### 1.3.8 ND-Gain vulnerability index

```{r}
capacity<- vroom(here("data_file/resources/vulnerability", "capacity.csv"))
```
```{r}
capacity |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```
```{r}
ecosystems<- vroom(here("data_file/resources/vulnerability", "ecosystems.csv"))
```
```{r}
ecosystems |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

```{r}
exposure<- vroom(here("data_file/resources/vulnerability", "exposure.csv"))
```
```{r}
exposure |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

```{r}
food<- vroom(here("data_file/resources/vulnerability", "food.csv"))
```
```{r}
food |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

```{r}
habitat<- vroom(here("data_file/resources/vulnerability", "habitat.csv"))
```
```{r}
habitat |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

```{r}
health<- vroom(here("data_file/resources/vulnerability", "health.csv"))
```
```{r}
health |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

```{r}
infrastructure<- vroom(here("data_file/resources/vulnerability", "infrastructure.csv"))
```
```{r}
infrastructure |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

```{r}
sensitivity<- vroom(here("data_file/resources/vulnerability", "sensitivity.csv"))
```
```{r}
sensitivity |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

```{r}
vulnerability_delta<- vroom(here("data_file/resources/vulnerability", "vulnerability_delta.csv"))
```
```{r}
vulnerability_delta |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

```{r}
vulnerability<- vroom(here("data_file/resources/vulnerability", "vulnerability.csv"))
```
```{r}
vulnerability |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

```{r}
water<- vroom(here("data_file/resources/vulnerability", "water.csv"))
```
```{r}
water |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

### 1.3.9 CO2 emissions per capita

```{r}
CO2em<- vroom(here("raw_data", "yearly_full_release_long_format.csv"))
```
```{r}
CO2em|> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

### 1.3.10 World Development Indicator

```{r}
WDI<- read_excel("data_file/wgidataset.xlsx")
```

```{r}
WDI |> 
  summarise(
    number_of_rows = n(),
    number_of_columns = ncol(across()),
    number_of_NA = sum(is.na(across()))
  ) |>
  knitr::kable()
```

# 2. Data set up
cleaning joining merging
